#include <stdio.h>


RAC(void* key){
	event Open after(void* key) :
              call(% fopen(...))&& result(key){}
	event Read before(void* key) :
              call(% fgetc(...))&&  args(key){}
        event Close before(void* key):
              call(% fclose(...))&& args(key){}

	ere : (Open Open* Read* Close)*

	@fail {
    	  printf("read after close\n");
    	}

}
